<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>Вкладки на CSS и JavaScript – 01</title>
  </head>

  <body>
    <style>
      .tab-nav {
        display: flex;
        gap: 20px;
      }
      .tab-btn {
        border-bottom: 2px solid red;
      }
      .tab-btn-active {
        pointer-events: none;
        color: red;
        border-bottom: 2px solid red;
        padding: 0 0 3px 0;
      }

      .tab-pane:not(.tab-pane-show) {
        display: none;
      }
    </style>

    <div class="tab" id="tab-1">
      <div class="tab-nav">
        <a type="button" class="tab-btn tab-btn-active" data-target-id="0">
          Вкладка 1
        </a>
        <a type="button" class="tab-btn" data-target-id="1"> Вкладка 2 </a>
        <a type="button" class="tab-btn" data-target-id="2"> Вкладка 3 </a>
      </div>
      <div class="tab-content">
        <div class="tab-pane tab-pane-show" data-id="0">Содержимое 1...</div>
        <div class="tab-pane" data-id="1">Содержимое 2...</div>
        <div class="tab-pane" data-id="2">Содержимое 3...</div>
      </div>
    </div>

    <script>
      const showTab = (elTabBtn) => {
        const elTab = elTabBtn.closest(".tab");
        if (elTabBtn.classList.contains("tab-btn-active")) {
          return;
        }
        const targetId = elTabBtn.dataset.targetId;
        const elTabPane = elTab.querySelector(
          `.tab-pane[data-id="${targetId}"]`
        );
        if (elTabPane) {
          const elTabBtnActive = elTab.querySelector(".tab-btn-active");
          elTabBtnActive.classList.remove("tab-btn-active");
          const elTabPaneShow = elTab.querySelector(".tab-pane-show");
          elTabPaneShow.classList.remove("tab-pane-show");
          elTabBtn.classList.add("tab-btn-active");
          elTabPane.classList.add("tab-pane-show");
        }
      };
      document.addEventListener("click", (e) => {
        if (e.target && !e.target.closest(".tab-btn")) {
          return;
        }
        const elTabBtn = e.target.closest(".tab-btn");
        showTab(elTabBtn);
      });
    </script>
  </body>
</html>
